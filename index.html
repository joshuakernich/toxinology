<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Toxinology</title>
  <style type="text/css">

    @font-face {
      font-family: HeaderFont;
      src: url(Oswald-Bold.ttf);
      font-weight: bold;
    }

    @font-face {
      font-family: HeaderFont;
      src: url(Oswald-ExtraLight.ttf);
      font-weight: normal;
    }

    @font-face {
      font-family: BodyFont;
      src: url(Quicksand-Light.ttf);
      font-weight: normal;
    }

    @font-face {
      font-family: BodyFont;
      src: url(Quicksand-Bold.ttf);
      font-weight: bold;
    }

    body{
      font-family: BodyFont;
      background: #f1faee;
      color:  #1d3557;
      margin: 0px;
      line-height: 1.5;


      --blue: #1d3557;
      --red: #E63946;
      --gray: rgba(29, 53, 87, 0.2);
      --white: #F1FAEE;
      overflow: hidden;
    }

    .header{
      padding: 20px;
      
      text-align: left;
    }

    .search-pillar-header{
      font-weight: normal;
      font-size: 30px;
      
      font-family: HeaderFont;
      padding: 20px;
      padding-bottom: 0px;
    }

    button{
      font:  inherit;
      background: #e63946;
      border:  none;
      color:  white;
      border-radius: 5px;
      flex-grow: 1;
      padding: 10px 30px;
      font-size: 15px;
      flex: 1;
    }

    .pillars{
      display: flex;
    }

    .search-pillar{
      
      text-align: left;
      max-width: 500px;
      
      display: inline-block;
      background: var(--blue);
      color: #F1FAEE;

    }

    .search-pillar-content{
      padding: 20px;
    }

    .organism-pillar{
      padding: 20px;
      width: 500px;
      display: inline-block;
      vertical-align: top;
      text-align: left;
      flex-grow: 1;
      height: 100vh;
      box-sizing: border-box;
      overflow: auto;
    }

    p{
      margin:  0px;
    }

    input{
      display: block;
      width: 100%;
      font: inherit;
      padding: 10px;
      box-sizing: border-box;
    }

    h2{
      font-size: 20px;
      font-weight: normal;
      margin: 0px;
      margin-bottom: 10px;
    }

    .question{
      font-size: 15px;
      margin-bottom: 20px;
    }

    .question-text{
      margin-bottom: 10px;
    }

    .hint{
      font-size: 12px;
    }

    .options{
      list-style-type: none;
      padding: 0px;
      margin: 0px;
      margin-top: 10px;
      display: flex;
      gap: 10px;
      display: none;
    }

    .options .option{
      text-align: center;
      padding: 5px 20px;
      background: #e63946;
      color: white;
      flex-grow: 1;
    }

    .advice{
      padding: 10px;
      border: 1px solid #e63946;
      padding-left: 45px;
      background-image: url('./alert-triangle.svg');
      background-position: 10px 10px;
      background-repeat: no-repeat;
    }

    .c-input{
      position: relative;
    }

    .c-dangerousness{
      text-align: center;
      position: relative;
      color: var(--red);
    }

    .c-dangerousness p{
      margin-top: 5px;
      position: absolute;
      bottom: 0px;
      width: 100%;
      font-weight: bold;
    }

    .needle{
      position: absolute;
      top: 75px;
      left: 50%;
      transform: rotate(65deg);
      transform-origin: 0 0;
      display: none;
    }

    .needle:before{
      content: "";
      width: 0; 
      height: 0; 
      border-left: 4px solid transparent;
      border-right: 4px solid transparent;
      border-bottom: 30px solid var(--red);
      position: absolute;
      left: -2px;
      bottom: 0px;
    }

    .needle:after{
      content: "";
      border: 2px solid var(--red);
      background: var(--white);
      position: absolute;
      left: -5px;
      top: -5px;
      width: 10px;
      height: 10px;
      border-radius: 10px;
    }


    .prompts{
      position: absolute;
      top: 1px;
      left: 0px;
      list-style-type: none;
      padding: 0px;
      margin: 0px;
      bottom: 1px;
      overflow: hidden;
      pointer-events: none;
      color: #ccc;
    }

    .prompts p{
      padding: 10px;
      position: relative;
    }

    .c-lister{
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .c-lister button{
      background: none;
      color: var(--white);
      padding: 10px 15px;

    }

    .c-lister button:before{
      content: '+';
      margin-right: 10px;
      display: inline-block;
    }

    .c-lister ul{
      margin: 0px;
      padding: 0px;
      list-style-type: none;
    }

    .c-lister li{
      list-style-type: none;
      padding: 10px 15px;
      border-bottom: rgba(255, 255, 255, 0.1);
      background: rgba(255, 255, 255, 0.1);
    }

    .c-selector{
      display: flex;
      gap: 10px;
    }

    .selector-option{
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.1);
      flex-grow: 1;
      width: 80px;
      
      font-size: 12px;
      text-align: center;
      padding: 10px;
    }

    .selector-option img{
      width: 30px;
      height: 30px;
    }

    p.capsule{
      
      border: 1px solid var(--gray);
      color: var(--blue);
      display: inline-block;
      padding: 5px;
      font-size: 11px;
      margin-right: 5px;

      background: white;
    }

    p.capsule.alert{
      background: var(--red);
    }

    .organisms{
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      text-align: center;
      margin-top: 10px;
    }

    .organism{
      flex-grow: 1;
      border: 1px solid var(--gray);
      padding: 10px;
      background: rgba(255, 255, 255, 0.5);
    }

    select{
      border: 1px solid var(--gray);
      background: rgba(255, 255, 255, 0.5);
      color: inherit;
      font: inherit;
      font-size: 15px;
      padding: 5px
    }

    input{
      background: rgba(255,255,255,0.1);
      border: 1px solid rgba(255,255,255,0.1);

    }

    .organisms-header{
      display: flex;
      flex:1;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .modal{
      position: fixed;
      top: 0px;
      left: 0px;
      right: 0px;
      bottom: 0px;
      overflow: auto;
      background: rgba(220,220,220,0.8);
      display: none;
    }

    .modal-panel{
      background: var(--white);
      border-left: 1px solid var(--blue);
      border-right: 1px solid var(--blue);
      max-width: 800px;
      margin: auto;
    }

    .dangerousness path:nth-of-type(1){ stroke: #54dd82 }
    .dangerousness path:nth-of-type(2){ stroke: #abdd54; }
    .dangerousness path:nth-of-type(3){ stroke: #e5c339; }
    .dangerousness path:nth-of-type(4){ stroke: #dd9954; }
    .dangerousness path:nth-of-type(5){ stroke: var(--red); }

    
    

    .treatment p{
      margin-bottom: 20px;
    }

    .capsule-list{
      border: 1px solid var(--gray);
      color: var(--blue);
      display: inline-block;
      
      font-size: 11px;
      margin-right: 5px;

      background: rgba(255, 255, 255, 0.5);
    }

    .capsule-list span{
      border-right: 1px solid var(--gray);
      padding: 5px 10px;
      display: inline-block;
    }

    .capsule-list span:last-of-type{
      border-right: none;
    }

    img.icon{
      width: 12px;
      stroke: var(--blue);
      display: inline-block;
      margin-right: 5px;
      vertical-align: middle;
    }

    .first-aid{
      list-style-type: none;
      gap: 10px;
      padding: 0px;
    }

    .first-aid li{
      border-left: 2px solid var(--blue);
      margin: 0px;
      padding-left: 10px;
      margin-bottom: 10px;
    }

    .first-aid h3{
      font-weight: bold;
      margin: 0px;
      margin-bottom: 10px;
      display: inline;
    }

    .modal-header{
      background: var(--blue);
      padding: 20px;
      color: var(--white);
    }

    .modal-content{
      padding: 20px;
    }

    .logo{
      font-family: HeaderFont;
      font-weight: normal;
      font-size: 30px;
    }

    .logo:before{
      content:"TOXIN";
      font-weight: bold;
    }

    .logo:after{
      content: "OLOGY.com";

    }

    .modal-header .capsule{
      color: var(--white);
      border-color: var(--white);
      background: transparent;
    }

    .modal-header .capsule-list{
      background: transparent;
      color: var(--white);
      border-color: var(--white);
    }

    .modal-header .capsule-list span{
      border-color: var(--white);
    }

    .modal-header img{
      border-color: var(--white);
    }
   

    .modal-menu{
      list-style-type: none;
      padding: 0px;
      display: flex;
      margin: 0px;
      margin-bottom: 20px;
      gap: 20px;
    }

    .modal-menu li{
      font-size: 12px;
      padding-right: 20px;
      border-right: 1px solid var(--blue);
    }

    .modal-menu li:last-of-type{
      border-right: none;
    }

    .modal-menu li:before{
      content: "";
      height: 40px;
      background-image: url('./icons/first-aid.png');
      background-position: center;
      background-size: 30px;
      background-repeat: no-repeat;
      display: block;
      width: 100%;
      flex-grow: 1;
    }

    .modal-menu li:nth-of-type(2):before{ background-image:url('./icons/diagnosis.png') }
    .modal-menu li:nth-of-type(3):before{ background-image:url('./icons/treatment.png') }
    .modal-menu li:nth-of-type(4):before{ background-image:url('./icons/lab-notes.png') }

    .risk.high{
      font-weight: bold;
      background: var(--red);
      padding: 5px 10px;
    }

    .name-header{
      display: flex;
      align-items: top;
    }

    .name-back{
      width: 40px;
      height: 48px;
      background-image: url('./icons/arrow-left.svg');
      background-position: center left;
      vertical-align: middle;
      background-repeat: no-repeat;
      background-size: 30px;

    }

    .name-main{
      font-size: 30px;
    }

    .name-secondary{
      font-size: 12px;
    }

    .icon{
      display: inline-block;
      width: 15px;
      height: 15px;
      vertical-align: middle;
      background-image: url('./icons/snake-sit.svg');
      background-size: 100%;
    }

  </style>
  <script type="text/javascript" src="jq.js"></script>
  <script type="text/javascript">
    $(function(){

      var words = "Nulla viverra mi et turpis congue dignissim. Sed gravida aliquam libero, id porttitor neque consectetur vel. Curabitur dignissim massa vel est maximus, tincidunt pellentesque mi feugiat. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Ut commodo lacinia lacus a faucibus. Integer ac nunc nec lectus eleifend euismod nec in metus. Nunc consectetur odio ut augue eleifend viverra. Proin consectetur venenatis imperdiet.Suspendisse eu pellentesque purus. In id hendrerit orci. Praesent rhoncus commodo sagittis. Donec porttitor orci vel sollicitudin lobortis. In hac habitasse platea dictumst. Maecenas pharetra quam eu ipsum dignissim dignissim. Etiam ullamcorper quam non nunc malesuada, eu egestas enim tempor. Nunc molestie, dui et commodo sagittis, odio magna varius dolor, convallis venenatis ex quam vel libero. Maecenas molestie euismod risus ac sollicitudin. Ut orci erat, lobortis id vulputate eget, elementum at lorem. Proin pretium tempor convallis. Integer a commodo dolor.".split(' ');

      var qs = [
        /*{
          t:"Is the person's life in danger?",
          o:{
            'yes':doFirstAid,
            'no':doNextQuestion,
          }
        },*/{
          t:"Location",
          c:{ type:'lister', preload:['🇦🇺 Australia'], add:'Add location' },
          o:{
            'done':doNextQuestion,
          }
        },
        {
          t:"Identity",
          c:{ type:'input', clue:'e.g. Brown Snake, Mushroom, Spider', prompts:['Brown snake','Spider','Mushroom'] },
          o:{
            'not sure':doNextQuestion,
            'search':doNextQuestion,
          }
        },
        
        {
          t:"Biosphere",
          c:{ type:'selector',
            o:[
              {t:'land', icon:'./icons/hills.svg'},
              {t:'salt water'},
              {t:'fresh water'}
            ]
          },
          o:{
            'done':doNextQuestion
          }
        },

        {
          t:"Symptoms",
          c:{ type:'selector',
            o:[
              {t:'wound'},
              {t:'nausea'},
              {t:'malaise'}
            ]
          },
          o:{
            'done':doNextQuestion
          }
        }
      ]

      var iq = -1;

      function makeLister(c){
        var $e = $('<div class="c-lister">');

        var $ul = $('<ul>').appendTo($e);
        if(c.preload) for(var n in c.preload) $('<li>').appendTo($ul).text(c.preload[n]);

        function addToList(){
          $('<li>').appendTo($ul).text('-');
        }

        $('<button>').appendTo($e).text(c.add).click(addToList);
        return $e;
      }

      function makeSelector(c){
        var $e = $('<div class="c-selector">');
        for(var n in c.o){
          var $o = $('<div class="selector-option">').appendTo($e);
          $('<img src="'+c.o[n].icon+'">').appendTo($o);
          $('<p>').appendTo($o).text(c.o[n].t);
        }
        return $e;
      }

      function makeRollingPrompts(prompts){
        var $p = $('<div class="prompts">');
        var $a = $('<p>').appendTo($p).text(prompts[0]);
        var $b = $('<p>').appendTo($p).text(prompts[1]);

        var i = -1;

        function next(){
          i++;
          $a.text(prompts[(i)%prompts.length]).css({top:0}).delay(800).animate({top:'-100%'},500);
          $b.text(prompts[(i+1)%prompts.length]).css({top:0}).delay(800).animate({top:'-100%'},500,next);
        }

        next();

        return $p;
      }

      function makeInput(c){
        var $e = $('<div class="c-input">');
        //if(c.clue) $('<p class="hint">').text(c.clue).appendTo($e);
        $('<input>').appendTo($e);
        if(c.prompts) makeRollingPrompts(c.prompts).appendTo($e);
        return $e;
      }

      function doFirstAid(){
        doNextQuestion();
      }

      function doNextQuestion(){
        iq++;

        var q = qs[iq];

        var $q = $('<div class="question">').appendTo('.search-pillar-content');
        $('<p class="question-text">').appendTo($q).text( q.t );
        
        if(q.c){
          if(q.c.type == 'input') makeInput(q.c).appendTo($q);
          if(q.c.type == 'lister') makeLister(q.c).appendTo($q);
          if(q.c.type == 'selector') makeSelector(q.c).appendTo($q);
        } 

        if(q.o){
          var $o = $('<div class="options">').appendTo($q);
          for(var n in q.o) $('<div class="option">').appendTo($o).text(n).click(function(){
            $o.hide();
            q.o[n]();
          });
        }
      }



      while(iq<qs.length-1) doNextQuestion();

      for(var i=0; i<50; i++){
        var $o = $('<div class="organism">').appendTo('.organisms').click(showModal);
        $('<img src="https://picsum.photos/id/'+(106+i)+'/200/100">').appendTo($o);
        $('<p>').appendTo($o).text(words[i*2]+' '+words[i*2+1]);
      }


      $p = $('.dangerousness path');
      $p.each(function(n){
        
        var r1 = -Math.PI + Math.PI/$p.length * n;
        var r2 = -Math.PI + Math.PI/$p.length * (n+1);

        var x1 = 50+Math.cos(r1)*50;
        var y1 = 50+Math.sin(r1)*50;

        var x2 = 50+Math.cos(r2)*50;
        var y2 = 50+Math.sin(r2)*50;

        $(this).attr('d','M '+x1+' '+y1+' A 50 50 0 0 1 '+x2+' '+y2);
      })

      function showModal(){
        $('.modal').show();
      }

      $('.modal').click(function(){
        $(this).hide();
      })
    })
  </script>
</head>
<body>
  
  
  <div class="pillars">
    <div class="search-pillar">
      <div class="search-pillar-header"><div class="logo"></div></div>
      <div class='search-pillar-content'></div>
      <!--div class="advice">
        <p>If life is in <b>immediate danger</b>, manage any acute medical problems to stabilise the situation before continuing.</p>
      </div-->
    </div>
    <div class="organism-pillar">
      <div class="organisms-header"><p>3256 possible organisms</p><select><option>Sort by dangerousness</option></select></div>

      <p class="capsule">⚠️ 512 high risk</p>
      <p class="capsule"><span class="icon snake"></span> 99+ snakes</p>
      <p class="capsule">🕷️ 52 spiders</p>
      <p class="capsule">🌿 12 plants</p>
      <div class="organisms">

      </div>
    </div>
    <div class="modal">
      <div class="modal-panel">
        
          
        <div class="modal-header">
          
          <div class="name-header">
            <div class='name-back'></div>
            <div class="name-names">
              <div class='name-main'>King Brown Snake</div>
              <div class='name-secondary'>AKA Mulga Snake</div>
            </div>
          </div>
          
          <div style="height:10px;"></div>
          <div style="height:10px;"></div>
          <p class="capsule risk high"><img class='icon' src="./icons/alert-triangle.svg"/>High Risk</p>
          <p class="capsule-list"><span><img class='icon' src="./icons/book-open.svg"/>Pseudechis australis</span><span>Elapidae</span><span>Elapinae</span><span>Pseudechis</span><span>australis</p>
          <p class="capsule">Australia</p>
          <!--div class="c-dangerousness">
            <svg class='dangerousness' viewBox='-20 -20 140 70' width=150 height=75 stroke='black' stroke-width=10>
              <path d=''/>
              <path d=''/>
              <path d=''/>
              <path stroke-width=15 d=''/>
              <path d=''/>
            </svg>
            <div class="needle"></div>
            <p>Lethal</p>
          </div-->
          <div style="height:10px;"></div>
          <img height=200 style="border:1px solid var(--white);" src="http://www.toxinology.com/images/snakes/SNP05211.jpg"><div 
            style="margin-left:10px;border:1px solid var(--white);background-position:center;background-size:150%;width:200px;height:200px;display:inline-block;background-image:url(./australia.png)">
            </div>
        </div>
        <div class="modal-content">
        <ul class="modal-menu">
          <li>First Aid</li>
          <li>Diagnosis</li>
          <li>Treatment</li>
          <li>Lab Findings</li>
        </ul>
        <h2>First Aid</h2>
        <p>First aid for Australian and New Guinean snakebites</p>
        <br>
        <img src="./icons/distance.png" width="30">
          <p><b>Create safe distance from Snake.</b></p>
          <br>
          <img src="./icons/stop.png" width="30">
          <p><b>Immobilise and calm victim.</b> Most snake bites from venemous snakes DO NOT ENVENOMATE the victim. If envenomated, it will take hours or days to spread through the system. Modern treatment is highly effective.</p>
          <br>
          <img src="./icons/hand.png" width="30">
          <p><b>Don't handle the wound.</b>  The wound must not be wiped or cleaned in any way, as this may interfere with later venom detection and the wound must not be massaged.</p>
          <br>
          <img src="./icons/ring.png" width="30">
          <p><b>Remove jewelery on bitten limb.</b> All rings or other jewellery on the bitten limb, especially on fingers, should be removed, as they may act as tourniquets if oedema develops.</p>
          <br>
        <h2>Key features</h2>
        <p class="capsule">Local pain & swelling</p>
        <p class="capsule">myolysis</p>
        <p class="capsule">anticoagulant coagulopathy</p>
        <p class="capsule">renal failure</p>
        <br><br>
        <h2>Treatment</h2>
        <div class="treatment">
        <p>Bites by mulga snakes are characterized by local pain, swelling and systemic myolysis, occasionally anticoagulant coagulopathy, and secondary renal failure. Rarely, there may be evidence of mild paralysis, usually limited to ptosis only. Probably most bites will develop at least some systemic envenoming, so many cases will require antivenom therapy. Admit all cases of definite or suspected bites.</p><p>On presentation, establish a good IV line, commence IV fluids, take bloods for initial tests ("extended coagulation tests" = PT/INR, aPTT, fibrinogen level***, FDP/XDP, platelet count; CK, urea, creatinine, WCC, K+), perform venom detection on the bite site (if uncertain of identity of snake). (*** fibrinogen level is only useful if it can be reliably measured to very low levels; many labs are unable to do this or may use indirect measurement and in this setting fibrinogen is not a useful test and could be omitted)Unless contraindicated by pre-existing medical conditions, give an IV fluid load (1L over 2-3 hrs in an adult; volume determined by weight in a child), then keep well hydrated thereafter (100-150 mL/hr in an adult), while carefully watching for fluid overload, monitoring fluid input and output. If a first aid bandage is in place over the bitten limb, leave on until the blood tests, venom detection and full examination are complete and results available. To perform venom detection cut away the bandage immediately over the bite area, to swab for venom. Keep the cut-away bandages, in case they are needed later for venom detection.</p><p>If the patient presents with envenoming clearly established, or blood tests show evidence of systemic envenoming (high and/or rising CK, less commonly an anticoagulant coagulopathy, with prolonged PT/INR, aPTT, but normal fibrinogen level and normal or barely elevated FDP/XDP), then commence antivenom therapy prior to removal of first aid. Initial dose should be 1 vial of CSL Black Snake AV IV (only in severe cases would >1 vial be needed initially), diluted up to 1:10 (less in children, to avoid volume overload), with adrenaline ready to treat anaphylaxis, should this occur.</p><p>Repeat blood tests 3 hrs after completion of initial dose of antivenom therapy, to determine if myolysis has been arrested (no further or minimal rise in CK) and any coagulopathy reversed (PT/INR and aPTT falling towards normal). If the CK has continued to climb dramatically, consider giving further antivenom. If the 3hr tests suggest improvement then wait 2-3 hrs and retest. If there is continued improvement, it is likely no further antivenom will be needed. If, however, there has been no improvement or worsening, give further antivenom. The role of antivenom in reversing myolysis is controversial, but given the potential lethality of severe myolysis, further antivenom therapy should always be considered.</p><p>For cases where initial blood tests show no sign of either myolysis (CK) or anticoagulant coagulopathy, no antivenom is required at this stage, but repeat tests 2-3 hrs and 5-6 hrs later and if these show developing envenoming, treat with antivenom, as discussed earlier.</p><p>For cases with myolysis, CK may rise to very high levels, >100,000 IU/L. This is accompanied by muscle pain, tenderness and weakness in most cases. There will also be gross myoglobinuria (red to black urine) and the risk of renal failure. Hyperkalaemia can develop secondary to myolysis and is more severe if there is secondary renal failure. It can cause cardiotoxicity and is potentially lethal and may be difficult to treat.</p><p>The anticoagulant coagulopathy is only rarely associated with significant bleeding and in most cases will be rapidly and completely reversed by antivenom therapy. It is distinguished from the defibrination commonly seen with bites by some other Australian snakes (brown snakes, tiger snakes, taipans etc) by the normal fibrinogen level and absence of high levels of FDP/XDP.</p><p>Mulga snake bites commonly develop both local pain and swelling. The latter may be quite extensive, but local necrosis is rare. The swelling may take several days to > week to settle fully and may look like cellulitis. If there is a strong suspicion of secondary infection with cellulitis, then antibiotic therapy, initially IV, is required, but in most cases of mulga snake bites, antibiotics are not required. Tetanus immunisation status should always be checked and a booster given when indicated, but not until any coagulopathy has been reversed.</p>
      </div>
      </div>
    </div>
    </div>
  </div>
</body>
</html>